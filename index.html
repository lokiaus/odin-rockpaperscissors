<!DOCTYPE html>
<html lang="en">
<head>
    <link href="styles.css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scissors Paper Rock</title>
</head>
<body>
    <header>
        <!-- a header with the title and a dark mode toggle button-->
        <h1 class="header-item">Scissors Paper Rock</h1>
        <button type="button" class="dark-mode-toggle btns header-item" id="dark-mode-toggle">Dark Mode</button>
    </header>
    <p>A best of five game of Scissors Paper Rock against the computer</p>
    <div id="scoreCont">
        <p id="roundText">Round 1 of 5</p>
        <div class="scoreCont">
            <div id="playerScoreCont">
                <p>Player Score</p>
                <p id="playerScore">0</p>
            </div>
            <div id="cpuScoreCont">
                <p>Computer Score</p>
                <p id="computerScore">0</p>
            </div>
        </div>
        <div class="btns-cont">
            <button type="button" class="btns" id="scissorsbtn">Scissors</button>
            <button type="button" class="btns" id="paperbtn">Paper</button>
            <button type="button" class="btns" id="rockbtn">Rock</button>
        </div>
        <p id="infoText">Choose your weapon!</p>
        <div id="roundsBar"></div>
        <p id="winnerText"></p>
        <button type="button" class="btns" id="resetbtn" style="scale:0">Reset</button>
    </div>
    <p><button type="button" class="btns" id="rstHistory">Reset History</button></p>
    <footer>
        <p class="footerItem"><a href="https://www.theodinproject.com/">The Odin Project</a></p>
        <p class="footerItem" id="plrWinsText">Player Wins: 0</p>
        <p class="footerItem" id="cpuWinsText">Computer Wins: 0</p>
        <p class="footerItem">Created by <a href="https://github.com/lokiaus">lokiaus</a></p>
    </footer>
    <script src="script.js"></script>
    <script>

        // toggle dark mode using the button element by changing the class of the body element
        // also saves dark mode state to local storage
        const darkModeToggle = document.querySelector('#dark-mode-toggle');
        const body = document.querySelector('body');
        darkModeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            if (body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
            } else {
                localStorage.setItem('darkMode', 'disabled');
            }
        });
        
        // check if dark mode is enabled in local storage and set it if it is
        if (localStorage.getItem('darkMode') === 'enabled') {
            body.classList.toggle('dark-mode');
        }

        // scale button by 1.1 for .1s when clicked
        const btns = document.querySelectorAll('.btns');
        btns.forEach(btn => {
            btn.addEventListener('click', () => {
                btn.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    btn.style.transform = 'scale(1)';
                }, 100);
            });
        });

        // disable all buttons for .25s when any are clicked
        btns.forEach(btn => {
            btn.addEventListener('click', () => {
                btns.forEach(btn => {
                    btn.disabled = true;
                });
                setTimeout(() => {
                    btns.forEach(btn => {
                        btn.disabled = false;
                    });
                }, 250);
            });
        });

    </script>
</body>
</html>
